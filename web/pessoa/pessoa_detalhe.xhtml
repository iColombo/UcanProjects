<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition>

        <div class="ui-fluid">
            <center>
                <p:dialog id="PessoaViewDlg" widgetVar="PessoaViewDialog" modal="true" resizable="false" header="Detalhes da Pessoa">
                    <h:form id="PessoaViewForm">
                        <p:panel id="panel_detalhes" styleClass="ui-noborder">
                            <p:tabView id="tabPessoa" style="width: 100%; height: 80%;" >
                                <p:tab title="Fotografia">
                                    <h:panelGroup id="d">
                                        <p:graphicImage
                                            rendered="#{pessoaManagedBean.renderedTabJPG(pessoaManagedBean.carregaFoto(pessoaManagedBean.pessoa))}"                                   
                                            style="height:300px; width:300px; border-style: ridge; border-radius:150px;"
                                            cache="false"
                                            value="http://localhost:8080/anexos/#{pessoaManagedBean.carregaFoto(pessoaManagedBean.pessoa)}"                                    
                                            />
                                        <p:graphicImage
                                            rendered="#{pessoaManagedBean.renderedTabPNG(pessoaManagedBean.carregaFoto(pessoaManagedBean.pessoa))}"                                   
                                            style="height:300px; width:300px; border-style: ridge; border-radius:150px;"
                                            cache="false"
                                            value="http://localhost:8080/anexos/#{pessoaManagedBean.carregaFoto(pessoaManagedBean.pessoa)}"                                    
                                            />                                        
                                    </h:panelGroup>
                                </p:tab>
                                <p:tab title="Dados Pessoais">
                                    <p:fieldset legend="Dados Pessoais" toggleable="true">
                                        <h:panelGroup id="dados_pessoais">
                                            <p:panelGrid columns="2" >
                                                <h:outputText value="PK"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.pkPessoa}"/>
                                                <h:outputText value="Nome"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.nomeCompleto}"/>
                                                <h:outputText value="Sexo"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.fkSexo.descricao}"/>                        
                                                <h:outputText value="Estado Civil"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.fkEstadoCivil.descricao}"/>
                                            </p:panelGrid>
                                        </h:panelGroup>
                                    </p:fieldset>
                                </p:tab>
                                <p:tab title="Endereço">
                                    <p:fieldset legend="Endereço" toggleable="true">
                                        <h:panelGroup id="endereco">
                                            <p:panelGrid columns="2" >
                                                <h:outputText value="País"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.fkPais.nome}"/>
                                                <h:outputText value="Província"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.fkProvincia.nome}"/>
                                                <h:outputText value="Município"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.fkMunicipio.nome}"/>                        
                                                <h:outputText value="Bairro"/>
                                                <h:outputText value="#{pessoaManagedBean.pessoa.fkBairro.nome}"/>
                                            </p:panelGrid>
                                        </h:panelGroup>
                                    </p:fieldset>
                                </p:tab>                                
                            </p:tabView>
                            <center>
                                <p:commandButton value="Sair" onclick="PessoaViewDialog.hide()" style="margin-top: 5px"/>
                            </center>
                        </p:panel>

                    </h:form>
                </p:dialog>
            </center>

        </div>

    </ui:composition>
</html>

